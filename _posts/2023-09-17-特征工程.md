---
title: 特征工程
date: 2023-09-17 10:30:00 +0800
categories: [学习笔记, 人工智能]
# toc: false
tags: [人工智能, 特征工程]     # TAG names should always be lowercase
---

# 特征工程
> [github: feature-engineering-book](https://github.com/alicezheng/feature-engineering-book)
>
> [bilibili 特征工程](https://www.bilibili.com/video/BV1qG4y1i7ng)



![大纲](/assets/figs/特征工程/0917arc.png)

## 一、概念

### 1. 基本概念

- 数据（对现实世界的现象的观测）
  - 特性
    - 错误数据
    - 冗余数据
    - 缺失数据
- 模型（数学模型）
  - 描述了数据不通部分之间的关系

- 特征（原始数据的数值表示）
- 特征工程
  - 就是在给定数据、模型和任务的情况下设计出最合适的特征的过程。

## 二、 数据

### 1. 数据类型

- 文本
- 图像
- 数值 （数据转换而来）

### 2. 对数据处理

- 量级
- 尺度（最大值，最小值），
  - 输出尺度取决于输入尺度 （某些模型）
  - 通常需要标准化
  - 如果尺度随时间变化也需要转变（温度夏天热）
- 分布
  - 对数变换是一种将变量进行非线性变换的方法，它可以将变量的分布变得更加接近于高斯分布。
- 特征组合
  - 多个特征组合形成更加复杂的特征

### 3. 概念

- 标量
- 向量：标量的有序列表

### 4. 处理计数 （数值可无限增长，会出现异常值）

- 二值化
- 区间量化（分箱）
  - 固定宽度分箱（数值中有较大缺口，可能有很多空箱）
    - 人工定制
    - 自动分段
      - 线性
      - 指数性
      - 对数变换
  - 分位数分箱
    - 将数据划分为若干等份

### 5. 数据变换

- 指数变换（方差稳定化变换）
  - 对数变换
- 泊松分布是一种重尾分布，方差等于均值
- Box-Cox变换

$$
\begin{array}{l} 
  \tilde{x}  = \left\{\begin{matrix} 
{x^\lambda -1 \over \lambda } \ (\lambda \ne 0) \\
ln(x) \ (\lambda = 0)
\end{matrix}\right.    
\end{array} 
$$

- 特征缩放/归一化
  - min-max 缩放
- 特征标准化/方差缩放
  - 标准化

> （不要“中心化”稀疏数据）标准化、归一化 会将一个多数元素为0的稀疏特征向量变成密集特征向量。
>
> - 稀疏向量：指一个向量中，大部分元素为0，非零元素分布较为稀疏。这样的向量在数据存储和处理方面较为高效，因为可以仅存储和处理非零元素。
> - 密集向量：指一个向量中，大部分元素都是非零的，或者说，元素的零值和非零值在向量中的分布较为均匀。这样的向量在数据存储和处理方面可能效率较低，因为需要存储和处理所有的元素。

- $l^2$ 归一化/l2 范数（欧几里德范数）

### 2. 任务

## 二、 数据准备

### 1. 数据字段解释

了解有哪些数据，数据分别代表什么意思，应该如何划分数据

- 数据类型
  - 离散数据
  - 连续数据

- 已有数据分类（业务背景）

### 2. 数据质量

数据合规吗，

- 数据正确性校验
  - 数据集字段是否和数据字典中的字段一致
  - 检验数据集中ID列有无重复
- 数据缺失值校验
  - 没有数据（None or Nan）
  - 缺失用其他表示了

### 3. 重编码

- 独热编码（离散字段）
  - 特征的信息需要进行保留（每列什么含义）
  - 很少用于二分类任务
    - 男/女
  - 对于特征顺序尽量进行排序
    - 高收入/中收入/低收入

- 连续对象离散化
  - 优点
    - 更加清晰呈现特征信息
    - 减少异常值影响
    - 削减特征间量纲差异的影响
    - 对于很多非线性模型，连续变量的分箱实际上相当于在线性方程中加入了**非线性因素**
  - 实施
    - 业务背景划分（根据实际情况）
    - 分箱
      - 等宽分箱（每次区间范围相同）
      - 等频分箱（每个箱体中包含的元素是一样的）
      - 聚类分箱
